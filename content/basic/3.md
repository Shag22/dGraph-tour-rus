+++
date =  "2017-04-26T22:28:55+10:00"
next = "/basic/4"
prev = "/basic/2"
title = "Типы данных, схема и система типов"
weight = 3
+++

Пришло время поговорить о типах данных и узлах.

# Система типов

Начиная с версии 1.1, Dgraph
поддерживает систему типов. На данный момент система типов является базовой, но уже сейчас ее можно использовать для категоризации узлов и запроса их по типу. Система типов также используется при развертывании запросов

Таким образом, чтобы расширить или удалить узлы, Вам необходимо правильно определить типы. Подробнее о системе типов можно узнать здесь.

# Типы данных и схема

В последнем запросе было немного магии, потому что некоторые из запрашиваемых рёбер возвращали значение (name и age), но некоторые из них были рёбрами к другим узлам (friend и owns_pet), которые сами по себе имели дополнительные свойства.

Правда в том, что есть схема, которая подсказывает нам, как  интерпретировать ребро.

На этот раз визуализации будет мало. Взгляните на JSON, чтобы узнать о схеме примера.

В графе есть два вида узлов, назовем их узлами и значениями (или литералами). В этом примере узлы, обозначающие людей, содержат ребро name к значению string и ребро age к значению int. Значение должно быть без каких-либо рёбер.

Здесь представлены типы, которые можно использовать для хранения значений в Dgraph.

Dgraph Type | Description |
----|:----|
int | signed 64 bit integer |
float | double precision floating point |number |
string | string
bool | boolean
id | identifiers stored as strings
dateTime | RFC3339 time format with optional timezone eg: 2006-01-02T15:04:05.999999999+10:00 or 2006-01-02T15:04:05.999999999
geo | geometries stored using go-geom

Также для узлов можно выделить тип uid. Схема показывает нам, что ребро friend переходит от одного узла к другому, но не к значению.

О схеме мы поговорим чуть позже. На данный момент мы знаем больше о структуре нашего графа и о типах в нём.