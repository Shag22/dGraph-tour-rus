+++
date =  "2017-04-26T22:28:55+10:00"
next = "/blocksvars/1"
prev = "/moredata/1"
title = "Схема фильмов"
weight = 2
+++

Запросы Dgraph и визуализация помогут нам разобраться в схеме набора данных фильмов.

На следующих страницах вы убедитесь, что рассматривать данные можно с разных точек зрения; рассматривая, например, режиссёров, фильмы, жанры или даже местоположение в качестве основной отправной точки.

Давайте посмотрим с точки зрения режиссёров. Кэтрин Бигелоу (Kathryn Bigelow) сняла классику начала 90-х годов «На гребне волны» (Point Break). Мы начнём с неё и узнаем о схеме.

Выполните запрос. Запрос _predicate_ говорит нам, что у режиссёров есть имя (name) и они связаны с фильмами, которые они снимали через director.film.

Чтобы расширить запрос, добавьте также

director.film (first: 1) {     
    name
    initial_release_date
    genre { name }
    starring { Performance }
 }

Мы можем посмотреть фильм с рёбрами name, а также genre и starring, ведущие к жанрам, на которые делятся фильмы, и актёрам в фильме.

Исследуя ребро starring, вы узнаете, что узлы, проходящие через это ребро, представляют собой деятельность актёра как конкретного персонажа в фильме.

Повторите те же самые запросы, начиная с Тома Хэнкса (Tom Hanks), — актёра и режиссёра. Вы увидите ссылки на фильмы, в которых он снимался, и его роли.

Не забывайте о запросе схемы, который можно использовать для изучения типов и индексов в схеме. Просто примените

schema {}

запросы для всей схемы.

Если Вам интересно, поэкспериментируйте с запросами самостоятельно. С этими уроками Вы всегда сможете найти все фильмы любых режиссёров, актёра или актёрского состава.