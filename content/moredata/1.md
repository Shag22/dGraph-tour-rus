+++
date =  "2017-04-26T22:28:55+10:00"
next = "/moredata/2"
prev = "/schema/10"
title = "Больший набор данных"
weight = 1
+++

Итак, начнём с Dgraph и GraphQL+-. Перейдём на новую ступень.

Dgraph также может выполнять агрегацию запросов, гео-запросы, строковые запросы и многое другое. Но для всего этого давайте перейдём от маленьких наборов данных, с которых мы начинали, и попробуем что-нибудь побольше, намного больше.

В нашем репозитории Github вы найдете набор данных о фильмах, режиссёрах и актёрах.

Скачайте его по этой ссылке и сохраните в каталоге ~/dgraph или запустите в терминале следующие значения:

cd ~/dgraph
wget "https://github.com/dgraph-io/tutorial/blob/master/resources/1million.rdf.gz?raw=true" -O 1million.rdf.gz -q

Запустите схему мутации (кнопка «run»‎), а затем загрузите набор данных в Dgraph из терминала. Для работы с большим набором данных может потребоваться перезапуск Alpha с помощью --lru_mb 4096.

docker exec -it dgraph dgraph live -f 1million.rdf.gz --alpha localhost:9080 --zero localhost:5080 -c 1

В наборе данных около миллиона троек. Dgraph сообщает, сколько именно троек было загружено и сколько времени это заняло.

Это большая база данных фильмов, но это не помешает Dgraph. Тем не менее, она настолько большая, что мы можем использовать более сложные запросы.

Этот набор данных — один из миллионов тройных подмножеств большего набора данных о фильмах, который содержит около 230 000 актёров и около 86 000 фильмов. Мы сделали подмножество, чтобы оно быстро загружалось, учитывая сложность для получения интересных результатов. Но, поскольку это подмножество, вы можете заметить, что любимого актёра там нет, или в фильмах не хватает актёров.

Позже в руководстве вам может понадобиться вернуться на эту страницу (или задать запрос на схему), чтобы проверить индексы или типы схем. Помните: мы не можем применять функции к неиндексированным рёбрам, так как некоторые функции требуют определённых индексов.
