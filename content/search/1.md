+++
date =  "2017-04-26T22:28:55+10:00"
next = "/search/2"
prev = "/blocksvars/13"
title = "Индексы"
weight = 1
+++

Когда Dgraph ищет строки, даты или другие значения, основанные на фильтре, ему нужен индекс, чтобы сделать поиск эффективным.
Мы уже видели примеры того, как задавать индексы в мутации схемы.

Значения int, float, geo и date содержат индексы по умолчанию, но string хранит опции, какие типы индексов выбрать. Для одного и того же предиката string можно построить несколько индексов.

Для значения string доступны следующие индексы:

- term (по умолчанию) используется с allofterms и anyofterms;
- exact — с неравенством, которое соответствует целой строке;
- hash имеет те же свойства, что и exact, но хэш-строка эффективна для длинных строк;
- fulltext необходим для полнотекстового поиска с alloftext и anyoftext;
- trigram — при использовании с регулярными выражениями

В качестве аргументов к @index указывается несколько индексов.

Используйте схему мутацию, чтобы добавить индексы к данным фильма. Для Dgraph потребуется несколько минут, чтобы вычислить эти индексы для всех данных фильма. Не останавливайте процесс мутации (запуск и выполнение запроса) до тех пор, пока она не завершится. 

Во время мутации можно заметить, что Docker останавливает процесс Dgraph. Проблема, скорее всего, заключается в нехватке памяти — увеличьте объём памяти, разрешённый  Docker’ом, а затем перезапустите Dgraph, загрузите внутреннюю схему и данные, а затем применить эту мутацию.
