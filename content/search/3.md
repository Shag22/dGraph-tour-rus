+++
date =  "2017-04-26T22:28:55+10:00"
next = "/search/4"
prev = "/search/2"
title = "Регулярные выражения"
weight = 3
+++

Для регулярных выражений требуется индекс `trigram`. Триграмма — это подстрока из 3 последовательных символов или рун.

Символы триграммы: `tri`, `rig`, `igr`, `gra` и `ram`.

Допустимые регулярные выражения можно преобразовать в запрос триграммы к индексу. Dgraph ищет индекс триграммы для возможных совпадений, а затем выполняет полное регулярное выражение к возможным.

Каждое регулярное выражение должно соответствовать хотя бы одной триграмме.

Тщательно продумайте запросы для регулярных выражений. Чем больше возможных триграмм соответствует запросу, тем больше результатов проверяется по полному регулярному выражению и тем менее эффективен запрос. Однако верно и обратное. Чем больше триграмм соответствует регулярным выражениям, тем лучше Dgraph использует индекс и тем меньше возможных результатов.

Таким образом, написание эффективных регулярных выражений, как правило, означает использование длинных подстрок и отказ от максимально возможного альтернативного выбора.

Дополнительный `i` может следовать за окончательным `/`, чтобы указать поиск без учета регистра.

Натали Портман (Natalie Portman) — единственная актриса в нашей базе данных, которая не только играла в фильме про инопланетян, но и названа именем, состоящим из тех же букв, что и само слово «инопланетянин».