+++
date =  "2017-04-26T22:28:55+10:00"
next = "/schema/8"
prev = "/schema/6"
title = "Упражнение: интеграция существующих данных"
weight = 7
+++

Мы добавили новую схему и загрузили некоторые данные компании, но как насчёт интеграции нашего предыдущего набора данных друзей с этим набором данных компании?

Попытка использовать пустые узлы от предыдущих мутаций не сработает. Пустые узлы не сохраняются в хранилище, поэтому при обращении к узлам, созданным в результате предыдущих мутаций, требуется UID. Так что вместо

_:sarah <works_for> _:company1 .

сделайте так

<uid-for-sarah> <works_for> <uid-for-company1> .

Поскольку uid, выбранный Dgraph, уникален, на этот раз мы не сможем Вам помочь. Используйте uid, выбранный вашим экземпляром Dgraph, чтобы написать мутацию, которая связывает данные о компании и дружбе.
Подсказка: по предыдущим запросам Вы узнаете свой uid.

Процесс, который вы только что сделали, обычно выполняется программно: запрос данных для получения uid, формулировка мутаций, затем пакетирование обновлений.