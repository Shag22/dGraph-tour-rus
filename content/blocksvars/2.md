+++
date =  "2017-04-26T22:28:55+10:00"
next = "/blocksvars/3"
prev = "/blocksvars/1"
title = "Переменные запроса"
weight = 2
+++

Результаты могут храниться в переменных и использоваться в других частях запроса.

Переменные декларируются с помощью

    var_name as some_block { ... }

где var_name — любое отдельное имя переменной, а some_block — либо весь запрос, либо внутренний блок запроса, совпадающий на ребре.

После определения переменные можно использоваться в:

- том же запросе в дочернем элементе определяющего блока (не является родительским элементом определения);
- другом запросе.

Переменные не влияют на семантику запроса в точке, где они определены.

Переменные запроса используются uid(<variable-name>). Переменные оцениваются для всех uid’ов, сопоставленных в запросе по блоку, против которого они определены. В частности, обратите внимание, что переменные являются uid-списками, а не графом, совпадающим с блоком; и что переменная оценивает все совпадения блока uid’ов для всего запроса, а не uid’ы, совпадающие с какой-либо одной ветвью.

Ошибкой является определение переменной, но не её использование.

Давайте поочерёдно рассмотрим варианты переменных.

