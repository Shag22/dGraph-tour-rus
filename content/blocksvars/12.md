+++
date =  "2017-04-26T22:28:55+10:00"
next = "/blocksvars/13"
prev = "/blocksvars/11"
title = "GroupBy"
weight = 12
+++

Запрос groupby агрегирует результаты запроса, заданные набором свойств, по которым группируются элементы. Например, запрос, содержащий блок

    director.film @groupby(genre) {
    a as count(uid)
    }

находит узлы, доступные для ребра director.film, разбивает их на группы в зависимости от жанра, а затем подсчитывает, сколько узлов находится в каждой группе.

Внутри блока groupby разрешены только агрегации, а значение count можно использовать только для uid.

Результат: сгруппированные рёбра и переменные значения для агрегации.

В этом случае значение переменной представляет собой карту от жанров до значений.

Часто для получения значений, отличных от агрегации, необходимо использовать groupby с другим запросом.
