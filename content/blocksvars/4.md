+++
date =  "2017-04-26T22:28:55+10:00"
next = "/blocksvars/5"
prev = "/blocksvars/3"
title = "Переменные запроса в другом блоке запросов I"
weight = 4
+++

Давайте подумаем о последнем запросе. Переменная JC_actor вычисляется для всех актёров в любом фильме Джейн Кэмпион. Независимо от того, где мы его используем, запрос выполняется полностью.

Это ключ к правильному использованию переменных Dgraph: понимать, что они глобальны в том смысле, что оценивают все узлы, которые могут соответствовать этому ребру в запросе, а не локальны в том смысле, что они оценивают по разным результатам для каждого фильма Джейн Кэмпион.

Также мы можем использовать переменные запроса в другом блоке запроса, как в узлах, которым соответствует корневой фильтр, так и во внутренних фильтрах.

Питер Джексон (Peter Jackson) часто появляется в своих собственных фильмах в основном на заднем плане или просто мельком, но появляется. Запрос показывает все фильмы, в которых Питер Джексон был режиссёром или актёром.

